<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Form Validations </title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
        crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Russo+One|Ubuntu:400,700&amp;subset=greek" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="mainNav">
        <div id="leftnav" class="wi20">
            <div id="logo">
                <h1 class="logo"> LOGO </h1>
            </div>
            <div id="menu">
                <ul class="listMenu">
                    <li id="dbtn">
                        <p class="linkText">
                            <a href="#"> Dashboard </a>
                        </p>
                        <p class="linkIcon">
                            <i class="fas fa-grip-horizontal"></i>
                        </p>
                    </li>
                    <!-- <li>
                        <p class="linkText">    <a href="#"> Login </a></p>
                        <p class="linkIcon">
                                <i class="fas fa-sign-in-alt"></i>
                        </p>
                    </li> -->
                    <li id="rbtn">

                        <p class="linkText"> <a href="#"> Register </a></p>
                        <p class="linkIcon">
                            <i class="fas fa-user-plus"></i>
                        </p>
                    </li>
                </ul>
            </div>
            <div id="footer">
                <p class="copy">

                </p>
            </div>
            <button id="menubtn"> <i class="fas fa-bars"></i> </button>
        </div>
        <div id="project" class="wi100">
            <div id="dashData">
                <div id="tabler" style="display:none;">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    Sl.No
                                </th>
                                <th>
                                    Name
                                </th>
                                <th>
                                    Email
                                </th>
                                <th>
                                    Contact
                                </th>
                                <th>
                                    Country
                                </th>
                                <th>
                                    Gender
                                </th>
                                <th>
                                    Options
                                </th>
                            </tr>
                        </thead>
                        <tbody id="bindData">
                            <!-- <tr>
                                <td>
                                    1
                                </td>
                                <td>
                                    Shiva
                                </td>
                                <td>
                                    Shiva@gmail.com
                                </td>
                                <td>
                                    9922992299
                                </td>
                                <td>
                                    India
                                </td>
                                <td>
                                    Male
                                </td>

                                <td>
                                    <button> Edit </button>
                                    <button> Delete </button>
                                </td>
                            </tr> -->
                        </tbody>

                    </table>
                </div>

                <div id="regiter">
                    <div>
                        <h2> REGISTER </h2>
                        <div id="formTemp">
                            <div class="form-control">
                                <label for="username"> Name </label>
                                <input type="text" name="username" id="uname" class="form-in" placeholder="Name">
                            </div>
                            <div class="form-control">
                                <label for="email"> Email </label>
                                <input type="text" name="email" id="email" class="form-in" placeholder="ex: user123@gmail.com">
                            </div>
                            <div class="form-control">
                                <label for="contact"> Contact </label>
                                <input type="text" name="contact" id="contact" class="form-in" placeholder="Contact">
                            </div>
                            <div class="form-control">
                                <label for="country"> Country </label>
                                <select name="country" id="country" class="form-in">
                                    <option value="null"> -- Please Choose -- </option>
                                    <option value="India"> Indian </option>
                                    <option value="US"> US </option>
                                    <option value="UK"> UK </option>
                                    <option value="Canada"> Canada </option>
                                </select>
                            </div>
                            <div class="form-control">
                                <input type="radio" name="gender" id="male" value="male" class="gen"><label for="male"> Male </label>
                                <input type="radio" name="gender" id="female" class="gen"><label for="female"> Female </label>
                            </div>
                            <div class="form-control">
                                <div class="btnWrap">
                                    <button type="button" id="save"> SAVE </button>
                                    <button type="button" id="reset"> RESET </button>
                                    <button type="button" id="update"> UPDATE </button>
                                    <button type="button" id="cancel"> CANCEL </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var menubtn = document.getElementById('menubtn');
        var navMenu = document.getElementById("leftnav");
        var project = document.getElementById('project');
        // Click Tabs
        var dbtn =  document.getElementById('dbtn');
        // Dash Tab
        var tabler = document.getElementById('tabler');

        
        var rbtn = document.getElementById('rbtn');
        // Rgistertab
        var regiter = document.getElementById('regiter');



        // Save & Reset 
         var Save = document.getElementById("save");
         var Reset = document.getElementById("reset");
         var Update = document.getElementById('update');
         Update.style.display = 'none';
         var Cancel = document.getElementById('cancel');
         Cancel.style.display = "none";





        // Menu Navagation
        navMenu.style.marginLeft = "-20%";
        menubtn.onclick = function () {
            project.removeAttribute('class');
            
            if (navMenu.style.marginLeft == "-20%") {
                navMenu.style.marginLeft = "0px";
                project.className = "wi80";
            } else {
                navMenu.style.marginLeft = "-20%";
                project.className = "wi100";
            }
        }



        // Switching Tabs
        
        dbtn.addEventListener('click', function(){
            tabler.style.display =  "block";
            regiter.style.display = "none";
        });
        rbtn.addEventListener('click', function(){
            regiter.style.display = "block";
            tabler.style.display =  "none";

        });


        // Form Fields...
        var uname = document.getElementById("uname");
        var Email = document.getElementById('email');
        var Contact = document.getElementById('contact');
        var country = document.getElementById('country');
        var gender = document.getElementById('male');
        var Tbody = document.getElementById('bindData');

        var genClass = document.getElementsByClassName('gen');

        var genChecked = "";
        



        // ResetFormFields
        Reset.addEventListener('click', function(){
            // reset Individual Form Fields
        });


        Save.addEventListener('click', function(){
            
        var NameRegEx = /^[a-zA-Z]{3,}$/g;
        var EmailRegEx = /^[a-zA-Z]+[0-9]+@+[a-zA-Z]+\.([a-z\.]){0,6}?$/g;
        var contactNum = /^[0-9]+$/g;
            

            for(var i = 0; i < genClass.length; i++){
            if(genClass[i].checked == true){
                genChecked = 1;
            }
        }
            
            if(!NameRegEx.test(uname.value)){
                alert('Please enter your name...?');
                return false;
            }else if(!EmailRegEx.test(Email.value)){
                alert('Please enter your Email..');
                return false;    
            }else if(!contactNum.test(Contact.value)){
                alert('Please enter contact number..');
                return false;        
            }else if(country.value == 'null'){
                alert('Please choose a country');
                return false;
            }else if(genChecked != 1){
                alert('please choose a gender..');
                return false;
            }else{

            

            // capture data from Form Fields.
            // formElem.value -- getInfo
            // formElem.value = "Shiva" -- setInfo;

            console.log(uname.value + "-" + Email.value + "-" + Contact.value + "-" + country.value + "-" +gender.value);
            

            // create Elements
            // document.createElement('elementName');

            console.log(Tbody.children.length + 1);

            var Tr = document.createElement('tr');

            var SlNoTd = document.createElement('td');
                SlNoTd.innerText = Tbody.children.length + 1;
            
            var NameTd = document.createElement('td');
                NameTd.innerText = uname.value;

            var EmailTd = document.createElement('td');
                EmailTd.innerText =  Email.value;

            var ContactTd = document.createElement('td');
                ContactTd.innerText = Contact.value;

            var CountryTd = document.createElement('td');
                CountryTd.innerText = country.value;

            var GenderTd = document.createElement('td');
                GenderTd.innerText = gender.value;


            var OptTd = document.createElement('td');
                var editBtn = document.createElement('button');
                editBtn.innerText = "Edit";
                var delBtn = document.createElement('button');
                delBtn.innerText = "Delete";

                OptTd.appendChild(editBtn);
                OptTd.appendChild(delBtn);

            // console.log(OptTd);


            // TCONTENT > TD > TR > TBODY

            // parentEle.appendChild(childEle);


            Tr.appendChild(SlNoTd);
            Tr.appendChild(NameTd);
            Tr.appendChild(EmailTd);
            Tr.appendChild(ContactTd);
            Tr.appendChild(CountryTd);
            Tr.appendChild(GenderTd);
            Tr.appendChild(OptTd);

            console.log(Tr);

            Tbody.appendChild(Tr);

            tabler.style.display =  "block";
            regiter.style.display = "none";


            // uname.value = "";
            // Email.value  = "";
            // Contact.value = "";
            // country.value = "";
            // gender.value = "";

            resetInfo(uname, Email, Contact, country, gender);


            editBtn.addEventListener('click', function(){
                tabler.style.display =  "none";
                regiter.style.display = "block";
                
                // this
                // debugger
                console.log(this);
                var editName = this.parentNode.parentNode.children[1];
                var editEmail = this.parentNode.parentNode.children[2];
                var editContact = this.parentNode.parentNode.children[3];
                var editCountry = this.parentNode.parentNode.children[4];
                var editGender = this.parentNode.parentNode.children[5];

                uname.value = editName.innerText;
                Email.value = editEmail.innerText;
                Contact.value = editContact.innerText;
                country.value = editCountry.innerText;
                gender.value = editGender.innerText; 
                
                Save.style.display = "none";
                Reset.style.display = "none";
                Update.style.display = "inline";
                Cancel.style.display = "inline";


            Update.onclick = function(){
                debugger;
                editName.innerText = uname.value;
                editEmail.innerText = Email.value;
                editContact.innerText = Contact.value;
                editCountry.innerText = country.value;
                editGender.innerText = gender.value; 
                

                tabler.style.display = "block";
                regiter.style.display = "none";

                resetInfo(uname, Email, Contact, country, gender);
                
                
                Save.style.display = "inline";
                Reset.style.display = "inline";
                Update.style.display = "none";
                Cancel.style.display = "none";

                
            };
            });

            
            delBtn.addEventListener('click', function(){
                // appendChild,
                // parentEle.removeChild(childEle),
                var delTR = this.parentNode.parentNode;
                Tbody.removeChild(delTR);
            });
        }
        });


        Reset.addEventListener('click',function(){
            resetInfo(uname, Email, Contact, country, gender);
        });

        function resetInfo(a,b,c,d,e){
            a.value = "";
            b.value = "";
            c.value = "";
            d.value = "null";
            e.checked = false;
        }

    </script>
</body>

</html>